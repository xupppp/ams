<div class="layui-fluid">
  <div class="layui-row layui-col-space15">
    <div class="layui-col-md9">
      <div class="layui-row layui-col-space15">
        <div class="layui-col-md6">
          <div class="layui-card">
            <div class="layui-card-header">快捷方式</div>
            <div class="layui-card-body">
              
              <div class="layui-carousel layadmin-carousel layadmin-shortcut">
                <div carousel-item>
                  <ul class="layui-row layui-col-space10">
                  	  <li class="layui-col-xs3">
                        <a lay-href="club/list/list">
                          <i class="layui-icon layui-icon-template-1"></i>
                          <cite>社团</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a lay-href="activity/list/list">
                          <i class="layui-icon layui-icon-survey"></i>
                          <cite>活动</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a lay-href="news/list/list">
                          <i class="layui-icon layui-icon-chat"></i>
                          <cite>新闻</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a lay-href="field/list">
                          <i class="layui-icon layui-icon-location"></i>
                          <cite>场地</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a lay-href="user/app/list">
                          <i class="layui-icon layui-icon-user"></i>
                          <cite>用户</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a lay-href="home/statistic">
                          <i class="layui-icon layui-icon-chart"></i>
                          <cite>统计</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a lay-href="component/progress/index">
                          <i class="layui-icon layui-icon-find-fill"></i>
                          <cite>搜索</cite>
                        </a>
                      </li>
                      <li class="layui-col-xs3">
                        <a lay-href="set/system/website">
                          <i class="layui-icon layui-icon-set"></i>
                          <cite>设置</cite>
                        </a>
                      </li>
                   </ul>
                </div>
              </div>
              
            </div>
          </div>
        </div>
        <div class="layui-col-md6">
          <div class="layui-card">
            <div class="layui-card-header">待办事项</div>
            <div class="layui-card-body">

              <div class="layui-carousel layadmin-carousel layadmin-backlog">
                <div carousel-item>
                  <ul class="layui-row layui-col-space10">
                    <li class="layui-col-xs6">
                      <a lay-href="#" class="layadmin-backlog-body">
                        <h3>待审社团</h3>
                        <p><cite id="checkClub"></cite></p>
                      </a>
                    </li>
                    <li class="layui-col-xs6">
                      <a lay-href="app/forum/list" class="layadmin-backlog-body">
                        <h3>待审活动</h3>
                        <p><cite id="checkAct"></cite></p>
                      </a>
                    </li>
                    <li class="layui-col-xs6">
                      <a lay-href="template/goodslist" class="layadmin-backlog-body">
                        <h3>待审新闻</h3>
                        <p><cite id="checkNews"></cite></p>
                      </a>
                    </li>
                    <li class="layui-col-xs6">
                      <a href="javascript:;" onclick="layer.tips('不跳转', this, {tips: 3});" class="layadmin-backlog-body">
                        <h3>待办事项</h3>
                        <p><cite id="checkThings"></cite></p>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-col-md12">
        <div class="layui-row layui-col-space15">
          <div class="layui-col-xs6">
              <div class="layui-card">
            <div class="layui-card-header">社团成员数排行榜 Top6</div>
            <div class="layui-card-body" style="padding-bottom:22.5px;padding-top:22.5px;">
              <table class="layui-table layuiadmin-page-table" lay-skin="line">
                <thead>
                  <tr>
                    <th>社团</th>
                    <th>成员数</th>
                    <th>状态</th>
                    <th>社团类别</th>
                  </tr> 
                </thead>
                <tbody id="clubmemberTop">
                </tbody>
              </table>
            </div>
          </div>
          </div>
          
          <div class="layui-col-xs6">
              <div class="layui-card">
            <div class="layui-card-header">社团活跃度排行榜 Top6</div>
            <div class="layui-card-body" style="padding-bottom:22.5px;padding-top:22.5px;">
              <table class="layui-table layuiadmin-page-table" lay-skin="line">
                <thead>
                  <tr>
                    <th>社团</th>
                    <th>活动数</th>
                    <th>状态</th>
                    <th>社团类别</th> 
                  </tr> 
                </thead>
                <tbody id="clubactTop">
                </tbody>
              </table>
            </div>
          </div>
          </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="layui-col-md3">
      <div class="layui-card">
        <div class="layui-card-header">用户
          <span class="layui-badge layuiadmin-badge" style="color:white;">总</span>
        </div>
        <div class="layui-card-body layuiadmin-card-list">
          <p id="userSum" class="layuiadmin-big-font"></p>
          <p>
                管理员 
            <span class="layuiadmin-span-color" id="adminSum"></span>
            <i class="layui-icon" style="padding-left:200px;">&#xe770;</i>
          </p>
        </div>
      </div>
      
      <div class="layui-card">
        <div class="layui-card-header">
                社团
          <span class="layui-badge layui-bg-orange layuiadmin-badge">总</span>
        </div>
        <div class="layui-card-body layuiadmin-card-list">
          <p id="clubSum" class="layuiadmin-big-font"></p>
          <p>
                新增社团 
            <span class="layuiadmin-span-color" id="newclubSum"></span>
            <i class="layui-icon" style="padding-left:183px;">&#xe66c;</i>
          </p>
        </div>
      </div>
      
      <div class="layui-card">
        <div class="layui-card-header">
                活动
          <span class="layui-badge layui-bg-green layuiadmin-badge">总</span>
        </div>
        <div class="layui-card-body layuiadmin-card-list">
          <p id="actSum" class="layuiadmin-big-font"></p>
          <p>
                新增活动
            <span class="layuiadmin-span-color" id="newactSum"></span>
            <i class="layui-icon" style="padding-left:182px;">&#xe650;</i>
          </p>
        </div>
      </div>
      
      <div class="layui-card">
        <div class="layui-card-header">
                新闻
          <span class="layui-badge layui-bg-blue layuiadmin-badge">总</span>
        </div>
        <div class="layui-card-body layuiadmin-card-list">
          <p id="newsSum" class="layuiadmin-big-font"></p>
          <p>
                新增新闻
            <span class="layuiadmin-span-color" id="newnewsSum"></span>
            <i class="layui-icon" style="padding-left:182px;">&#xe667;</i>
          </p>
        </div>
      </div>

    </div>
    
  </div>
</div>

<script>
var checkClub=0;
var checkAct=0;
var checkNews=0;
var checkThings=0;
layui.use('element', function() {
	var $ = layui.jquery,
		element = layui.element;

    $.ajax({
		type: 'GET',
		url: "/club/checkClub",
		async:false,
		success: function(data) {
			checkClub=data;
			$("#checkClub").text(data);
		},
	});	
    $.ajax({
		type: 'GET',
		url: "/activity/checkAct",
		async:false,
		success: function(data) {
			checkAct=data;
			$("#checkAct").text(data);
		},
	});	
    $.ajax({
		type: 'GET',
		url: "/news/checkNews",
		async:false,
		success: function(data) {
			checkNews=data;
			$("#checkNews").text(data);
		},
	});	
    checkThings=checkClub+checkAct+checkNews;
	$("#checkThings").text(checkThings);	
	
$.ajax({
	type: 'GET',
	url: "/user/userSum",
	async:false,
	success: function(data) {
		$("#userSum").text(data);
	},
});

$.ajax({
	type: 'GET',
	url: "/user/adminSum",
	async:false,
	success: function(data) {
		$("#adminSum").text(data);
	},
});

$.ajax({
	type: 'GET',
	url: "/club/clubSum",
	async:false,
	success: function(data) {
		$("#clubSum").text(data);
	},
});

$.ajax({
	type: 'GET',
	url: "/club/newclubSum",
	async:false,
	success: function(data) {
		$("#newclubSum").text(data);
	},
});

$.ajax({
	type: 'GET',
	url: "/activity/actSum",
	async:false,
	success: function(data) {
		$("#actSum").text(data);
	},
});

$.ajax({
	type: 'GET',
	url: "/activity/newactSum",
	async:false,
	success: function(data) {
		$("#newactSum").text(data);
	},
});

$.ajax({
	type: 'GET',
	url: "/news/newsSum",
	async:false,
	success: function(data) {
		$("#newsSum").text(data);
	},
});

$.ajax({
	type: 'GET',
	url: "/news/newnewsSum",
	async:false,
	success: function(data) {
		$("#newnewsSum").text(data);
	},
});

});
</script>
<script>
layui.use(['laypage', 'layer', 'element', 'carousel', 'form', 'util'], function() {
		var laypage = layui.laypage,
			layer = layui.layer,
			element = layui.element,
			carousel = layui.carousel,
			form = layui.form,
			util = layui.util,
			$ = layui.$;
	
			$.ajax({
				type: 'GET',
				async: false,
				url: "/club/selectMemberTop",
				success: function(datas) {
					$.each(datas, function(index, item) {
						if(index==0){
							var t3 = $("<span class='first'></span>").text(item.cname);
							var cname = $("<td></td>").append(t3);
						}
						else if(index==1){
							var t3 = $("<span class='second'></span>").text(item.cname);
							var cname = $("<td></td>").append(t3);
						}
						else if(index==2){
							var t3 = $("<span class='third'></span>").text(item.cname);
							var cname = $("<td></td>").append(t3);
						}
						else{
							var cname = $("<td></td>").text(item.cname);
						}
						var t1 = $("<i class='layui-icon layui-icon-user'></i>").text(item.club_num);
						var club_num = $("<td></td>").append(t1);
						var t2 = $("<span></span>").text(item.club_state);
						var club_state = $("<td></td>").append(t2);
						var type = $("<td></td>").text(item.club_type_name);
						var t = $("<tr></tr>").append(cname,club_num,club_state,type);
						$("#clubmemberTop").append(t);
					})
				},
			});
			
			$.ajax({
				type: 'GET',
				async: false,
				url: "/club/selectActTop",
				success: function(datas) {
					$.each(datas, function(index, item) {
						if(item.cname==null){
							var cname = $("<td></td>").text("没有了～");
							var t1 = $("<i class='layui-icon layui-icon-user'></i>").text("");
							var t2 = $("<span></span>").text("");
							var type = $("<td></td>").text("");
						}
						else{
						if(index==0){
							var t3 = $("<span class='first'></span>").text(item.cname);
							var cname = $("<td></td>").append(t3);
						}
						else if(index==1){
							var t3 = $("<span class='second'></span>").text(item.cname);
							var cname = $("<td></td>").append(t3);
						}
						else if(index==2){
							var t3 = $("<span class='third'></span>").text(item.cname);
							var cname = $("<td></td>").append(t3);
						}
						else{
							var cname = $("<td></td>").text(item.cname);
						}
						var t1 = $("<i class='layui-icon layui-icon-user'></i>").text(item.club_act);
						
						var t2 = $("<span></span>").text(item.club_state);
						
						var type = $("<td></td>").text(item.club_type_name);
						var t = $("<tr></tr>").append(cname,club_num,club_state,type);
						}
						var club_num = $("<td></td>").append(t1);
						var club_state = $("<td></td>").append(t2);
						var t = $("<tr></tr>").append(cname,club_num,club_state,type);
						$("#clubactTop").append(t);
					})
				},
			});

	});
</script>

<script>
layui.use('console', layui.factory('console'));
</script>

